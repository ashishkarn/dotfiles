# ~/.tmux.conf

# ── Terminal ───────────────────────────────────────────────────
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",foot*:Tc"
set -g default-shell /usr/bin/fish

# ── Prefix ─────────────────────────────────────────────────────
# Ctrl+s instead of Ctrl+b (easier to reach)
unbind C-b
set -g prefix C-s
bind C-s send-prefix

# ── General ────────────────────────────────────────────────────
set -g mouse on
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g history-limit 50000
set -g escape-time 0
set -g focus-events on
set -g set-clipboard on
set -g status-position bottom

# ── Splits ─────────────────────────────────────────────────────
# | and - for splits (intuitive)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# New window keeps current path
bind c new-window -c "#{pane_current_path}"

# ── Navigation (vim-style) ─────────────────────────────────────
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ── Resize ─────────────────────────────────────────────────────
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ── Copy mode (vim-style) ──────────────────────────────────────
setw -g mode-keys vi
bind Enter copy-mode
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "wl-copy"

# ── Reload ─────────────────────────────────────────────────────
bind r source-file ~/.tmux.conf \; display "Reloaded"

# ── Status bar ─────────────────────────────────────────────────
set -g status-position top
set -g status-style "bg=#1e1e2e fg=#cdd6f4"
set -g status-left "#[fg=#89b4fa,bold] #S "
set -g status-right "#[fg=#a6adc8]%H:%M "
set -g status-left-length 20
set -g status-right-length 20

# Window tabs
setw -g window-status-format "#[fg=#6c7086] #I:#W "
setw -g window-status-current-format "#[fg=#cba6f7,bold] #I:#W "

# ── Pane borders ───────────────────────────────────────────────
set -g pane-border-style "fg=#313244"
set -g pane-active-border-style "fg=#89b4fa"

# ── Tmux Cheat Sheet ──────────────────────────────────────────
# Prefix = Ctrl+a
# s = a 
# ── Sessions ──────────────────────────────────────────────────
# tmux new -s name          # new session
# tmux ls                   # list sessions
# tmux a -t name            # attach to session
# Ctrl+a d                  # detach
# Ctrl+a $                  # rename session
#
# ── Windows (tabs) ────────────────────────────────────────────
# Ctrl+a c                  # new window
# Ctrl+a 1/2/3              # switch to window
# Ctrl+a n                  # next window
# Ctrl+a p                  # previous window
# Ctrl+a ,                  # rename window
# Ctrl+a &                  # kill window
#
# ── Panes (splits) ────────────────────────────────────────────
# Ctrl+a |                  # vertical split
# Ctrl+a -                  # horizontal split
# Ctrl+a h/j/k/l            # move between panes
# Ctrl+a H/J/K/L            # resize pane
# Ctrl+a x                  # kill pane
# Ctrl+a z                  # toggle pane zoom (fullscreen)
# Ctrl+a {                  # swap pane left
# Ctrl+a }                  # swap pane right
#
# ── Copy mode (vim-style) ─────────────────────────────────────
# Ctrl+a Enter              # enter copy mode
# v                         # start selection
# y                         # copy to clipboard (wl-copy)
# q                         # exit copy mode
#
# ── Misc ──────────────────────────────────────────────────────
# Ctrl+a r                  # reload config
# Ctrl+a ?                  # list all keybindings
# Ctrl+a :                  # command prompt
